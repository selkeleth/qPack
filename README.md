This is pre-release staging of qPack code. Use with extreme caution! Features may be under development at any time. 

qPack is a set of tools designed for Audiobookshelf users who are comfortable on the Linux CLI. It currently makes no attempt to retrieve descriptions or any other information except what it assumes from Audiobookshelf's behavior.  There are some ways to tweak settings for some other users.

Currently staged:
- Alpha framework
- qPackConfig: UI-from-CLI configuration tool
- qPackRename: Rename {title}.mp3 files generated by ABS. Designed to be
    very friendly for adding and changing naming templates. Check out the
    --show-samples option before previewing full output. Use --dry-run with
    new shows. Show creators sometimes change metadata THEY populate.
- qTorSync: A straightforward implementation of the libraries that allow
    qPack to make torrents with the user's configuration, save a useable 
    .torrent file in the save path, optionally the watch path, and optionally
    will sync to the seedbox (and optionally put the .torrent in the seedbox's
    client's .torrent watch directory). 
- Template framework that is friendly for adding templates
- Template framework allow key->value replacement with value that can
    be retrieved via any CLI command, python, etc

Synchronization to seedboxes is done via rsync. Please use ssh-copy-id or a similar tool so that rsync can bypass an interactive login.

Audiobookshelf "duplicate" file warning:
Audiobookshelf, when presented with a second publication of the same title, faces a filename collision. It avoids this by adding the guid as a suffix to subsequent episodes with a title that matches one already in the directory. 
The title being a duplicate does not mean the episode is. Some podcasts publish multiple episodes with the same title. One example I ran across was when Freakonomics did a 5-year-later update on an episode. Audiobookshelf was unable to use its normal title.mp3 so appended an id suffix. Unfortunately, the script does not (yet?) remove this suffix, but it should be possible to test for with reasonable confidence with a regex. The reason I have not done is that I have also seen this behavior when a podcast episode is re-uploaded with a very minor change hours after it was first published without removing the first episode from the RSS feed. I letting them stick out because I'm checking them out on a case-by-case basis. It's usually a matter of removing the suffix and letting the date speak for itself because the title was reused.

Installation and usage:
1. Clone this git
2. Execute qPackConfig.sh
3. Maximize your terminal and try qPackRename.sh --show-samples "Some Audiobookshelf Podcast folder"
4. Try qPackRename.sh -f <your chosen index #> "Podcast folder" --dry-run to get a full preview of proposed new names
5. Run qPackRename without --dry-run when you are satisfied.
6. Rinse and repeat from step 3 or 4, always beginning with --dry-run only

Advanced usage:
qPack has been designed so that main directory .sh files set up an environment and import the operational functions from resources/qWrapper.sh. If so inclined, you can source the resources/qWrapper.sh yourself from the command line and access the operational functions directly or create your own scripts to do so. For instance, you may want the convenience of "sync_to <local_target> <remote_location>" as shorthand for "rsync -azh <local_target> <seedUser>@<seedServer>:<remote_location>", or "sync_to <.torrent> 1" to add any .torrent to your seedbox watch directory. 


Next up:
    Staging updates of the qPack.sh file itself, beginning with rudimentary
    function, as I clean up scripts that do these tasks specific to my
    environment. Here is the eventual script description as well as steps to
    manifest that from the initial pre-release commit of the script.

- qPack.sh: A script that works on a target directory with files that have the
    metadata in the filenames that templates look up from the file. Instead of
    automatically targeting the full directory, it provides options for annual
    torrents, a YTD torrent, and all-prior years to set up a complete history
    that allows for annual packs moving forward. It can be invoked without any
    arguments for a fully interactive mode or with a list of arguments for
    complete CLI automation for advanced users. When an option is selected,
    qPack will create the torrent directory, hardlink (or copy) files to it
- Implement more functionality into qPack, such as renaming files or offering
    to run qPackConfig if no config file exists. 
- Implement CLI parameters for "nextJob" options for automated usage
- Implement quality of life options, such as creating the directories only so
    that manual tweaks such as changing directory names won't have to be
    repeated on the seedbox as well as making new .torrent files.
- Allow changing of the mediaDir from the qPack menu
- Have the "nextJob" loop create a job queue instead of executing on each
    selection.
- Add a CLI option to read a file with a list of CLI parameters that amount
    to a list of "nextJob" commands, allowing for automated execution of
    batch jobs.
- Explore options for automated description generation using qTemplates, an
    API integration, metadata, etc. 
- Track first/last episode and other information to add template fields
- Templates for directory names, allow first/last episode in annual packs to
    automatically create